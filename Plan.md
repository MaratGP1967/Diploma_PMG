# План автоматизации    

## `1. Перечень автоматизируемых сценариев`

**Исходные данные для банковских карт берем из файла `data.json:`**

Карта №1 
- number: 4444 4444 4444 4441
- status: APPROVED

Карта №2
- number: 4444 4444 4444 4442
- status": DECLINED

**За валидные тестовые данные принимаем:**
- "Номер карты": номер первой банковской карты из файла `data.json`;
- "Месяц": двузначное число от 01 до 12;
- "Год": двузначное числовое значение, от текущий год до текущий год плюс семь;
- "Владелец": допустимые значения из латинских букв имя и фамилии, дефисов в имени и\или фамилии (не в начале и не в конце), пробела только между именем и фамилией;
- "CVC/CCV": три цифры (не все нули).

**Проверяем позитивные и негативные сценарии для:**
- покупки по дебитовой карте;
- покупки в кредит.
- выполняется условие - в БД сохраняется информация о том, успешно ли был совершён платёж и каким способом. Данные карт при этом не сохраняются

### ***Позитивные сценарии:***

**1. Все поля валидные, текущий год и месяц:**
1. "Номер карты" - "4444 4444 4444 4441"
2. "Год" - "Текущий год"
3. "Месяц" - "Текущий месяц"
4. "Владелец" - "Mariy-Magdolina Pirojkova-Bulochkina"
5. "CVC/CVV" - "123"
6. Кнопка "Подтвердить покупку" 
*Ожидаемый результат:* уведомление "Операция прошла успешно". В БД (MySQL/PostgreSQL) статус - "APPROVED", способ - "DEBET"/"CREDIT"

**2. Все поля валидные, текущий год и месяц плюс семь лет:**
1. "Номер карты" - "4444 4444 4444 4441"
2. "Год" - "Текущий год" плюс семь лет
3. "Месяц" - "Текущий месяц"
4. "Владелец" - "Mariy Pirojkova"
5. "CVC/CVV" - "003"
6. Кнопка "Подтвердить покупку" 
*Ожидаемый результат:* уведомление "Операция прошла успешно". В БД (MySQL/PostgreSQL) статус - "APPROVED", способ - "DEBET"/"CREDIT"

**3. Все поля валидные, имя и фамилия из двух букв:**
1. "Номер карты" - "4444 4444 4444 4441"
2. "Год" - "Текущий год"
3. "Месяц" - "Текущий месяц"
4. "Владелец" - "Ma Pi"
5. "CVC/CVV" - "100"
6. Кнопка "Подтвердить покупку" 
*Ожидаемый результат:* уведомление "Операция прошла успешно". В БД (MySQL/PostgreSQL) статус - "APPROVED", способ - "DEBET"/"CREDIT"


### ***Негативные сценарии:***

**4. Все поля валидные, номер второй банковской карты со статусом "DECLINED":**
1. "Номер карты" - "4444 4444 4444 4442".
2. "Год" - "Текущий год" плюс три года
3. "Месяц" - "Текущий месяц" плюс три месяца
4. "Владелец" - рандомно, используем Faker
5. "CVC/CVV" - рандомно, используем Faker
6. Кнопка "Подтвердить покупку" 
*Ожидаемый результат:* уведомление "Операция отклонена". В БД (MySQL/PostgreSQL) статус - " DECLINED"

**5. Все поля валидные, номер банковской карты заполнен нулями:**
1. "Номер карты" - "0000 0000 0000 0000".
2. "Год" - "Текущий год" плюс три года
3. "Месяц" - "Текущий месяц" плюс три месяца
4. "Владелец" - рандомно, используем Faker
5. "CVC/CVV" - рандомно, используем Faker
6. Кнопка "Подтвердить покупку" 
*Ожидаемый результат:* уведомление "Операция отклонена, не существующий номер карты".

**6. Все поля валидные, номер банковской карты пустой:**
1. "Номер карты" - " ".
2. "Год" - "Текущий год" плюс три года
3. "Месяц" - "Текущий месяц" плюс три месяца
4. "Владелец" - рандомно, используем Faker
5. "CVC/CVV" - рандомно, используем Faker
6. Кнопка "Подтвердить покупку" 
*Ожидаемый результат:* уведомление под полем номера карты "Поле обязательно для заполнения".

**7. Все поля валидные, номер банковской карты заполнен частично:**
1. "Номер карты" - "4444 4444".
2. "Год" - "Текущий год" плюс три года
3. "Месяц" - "Текущий месяц" плюс три месяца
4. "Владелец" - рандомно, используем Faker
5. "CVC/CVV" - рандомно, используем Faker
6. Кнопка "Подтвердить покупку" 
*Ожидаемый результат:* уведомление под полем номера карты "Номер карты должен быть заполнен".

**8. Все поля валидные, поле "Год" с истекщим сроком:**
1. "Номер карты" - "4444 4444 4444 4441"
2. "Год" - "Текущий год" минус один год
3. "Месяц" - "Текущий месяц"
4. "Владелец" - рандомно, используем Faker
5. "CVC/CVV" - рандомно, используем Faker
6. Кнопка "Подтвердить покупку" 
*Ожидаемый результат:* уведомление под полем "Год" "Поле заполненно некоректно".

**9. Все поля валидные, поле "Год" со сроком более семи лет:**
1. "Номер карты" - "4444 4444 4444 4441"
2. "Год" - "Текущий год" плюс восемь лет
3. "Месяц" - "Текущий месяц"
4. "Владелец" - рандомно, используем Faker
5. "CVC/CVV" - рандомно, используем Faker
6. Кнопка "Подтвердить покупку" 
*Ожидаемый результат:* уведомление под полем "Год" "Поле заполненно некоректно".

**10. Все поля валидные, поле "Год" заполненно нулями:**
1. "Номер карты" - "4444 4444 4444 4441"
2. "Год" - "00"
3. "Месяц" - "Текущий месяц"
4. "Владелец" - рандомно, используем Faker
5. "CVC/CVV" - рандомно, используем Faker
6. Кнопка "Подтвердить покупку" 
*Ожидаемый результат:* уведомление под полем "Год" "Поле заполненно некоректно".

**11. Все поля валидные, поле "Год" не заполненно:**
1. "Номер карты" - "4444 4444 4444 4441"
2. "Год" - " "
3. "Месяц" - "Текущий месяц"
4. "Владелец" - рандомно, используем Faker
5. "CVC/CVV" - рандомно, используем Faker
6. Кнопка "Подтвердить покупку" 
*Ожидаемый результат:* уведомление под полем "Год" "Поле обязательно для заполнения".

**12. Все поля валидные, поле "Месяц" с истекщим сроком:**
1. "Номер карты" - "4444 4444 4444 4441"
2. "Год" - "Текущий год"
3. "Месяц" - "Текущий месяц" минус один месяц
4. "Владелец" - рандомно, используем Faker
5. "CVC/CVV" - рандомно, используем Faker
6. Кнопка "Подтвердить покупку" 
*Ожидаемый результат:* уведомление под полем "Месяц" "Поле заполненно некоректно".

**13. Все поля валидные, поле "Месяц" со сроком более семи лет:**
1. "Номер карты" - "4444 4444 4444 4441"
2. "Год" - "Текущий год" плюс семь лет
3. "Месяц" - "Текущий месяц" плюс один месяц
4. "Владелец" - рандомно, используем Faker
5. "CVC/CVV" - рандомно, используем Faker
6. Кнопка "Подтвердить покупку" 
*Ожидаемый результат:* уведомление под полем "Месяц" "Поле заполненно некоректно".

**14. Все поля валидные, поле "Месяц" заполненно нулями:**
1. "Номер карты" - "4444 4444 4444 4441"
2. "Год" - "Текущий год"
3. "Месяц" - "00"
4. "Владелец" - рандомно, используем Faker
5. "CVC/CVV" - рандомно, используем Faker
6. Кнопка "Подтвердить покупку" 
*Ожидаемый результат:* уведомление под полем "Месяц" "Поле заполненно некоректно".

**15. Все поля валидные, поле "Месяц" заполненно не существующим значением:**
1. "Номер карты" - "4444 4444 4444 4441"
2. "Год" - "Текущий год"
3. "Месяц" - "13"
4. "Владелец" - рандомно, используем Faker
5. "CVC/CVV" - рандомно, используем Faker
6. Кнопка "Подтвердить покупку" 
*Ожидаемый результат:* уведомление под полем "Месяц" "Поле заполненно некоректно".

**16. Все поля валидные, поле "Месяц" не заполненно:**
1. "Номер карты" - "4444 4444 4444 4441"
2. "Год" - "Текущий год"
3. "Месяц" - " "
4. "Владелец" - рандомно, используем Faker
5. "CVC/CVV" - рандомно, используем Faker
6. Кнопка "Подтвердить покупку" 
*Ожидаемый результат:* уведомление под полем "Месяц" "Поле обязательно для заполнения".

**17. Все поля валидные, в поле "Владелец" одна буква в имени и фамилии:**
1. "Номер карты" - "4444 4444 4444 4441"
2. "Год" - "Текущий год"
3. "Месяц" - "Текущий месяц"
4. "Владелец" - "V B"
5. "CVC/CVV" - рандомно, используем Faker
6. Кнопка "Подтвердить покупку" 
*Ожидаемый результат:* уведомление под полем "Владелец" "Поле заполненно некоректно, имя и фамилия не могут состоять из обной буквы".

**18. Все поля валидные, в поле "Владелец" имя или фамилия с небуквенным символом:**
1. "Номер карты" - "4444 4444 4444 4441"
2. "Год" - "Текущий год"
3. "Месяц" - "Текущий месяц"
4. "Владелец" - "Pa$vel Krutoy"
5. "CVC/CVV" - рандомно, используем Faker
6. Кнопка "Подтвердить покупку" 
*Ожидаемый результат:* уведомление под полем "Владелец" "Поле заполненно некоректно, должна быть только латиница".

**19. Все поля валидные, в поле "Владелец" имя или фамилия с цифровым символом:**
1. "Номер карты" - "4444 4444 4444 4441"
2. "Год" - "Текущий год"
3. "Месяц" - "Текущий месяц"
4. "Владелец" - "Pavel777 Krutoy"
5. "CVC/CVV" - рандомно, используем Faker
6. Кнопка "Подтвердить покупку" 
*Ожидаемый результат:* уведомление под полем "Владелец" "Поле заполненно некоректно, должна быть только латиница".

**20. Все поля валидные, в поле "Владелец" имя или фамилия слитно:**
1. "Номер карты" - "4444 4444 4444 4441"
2. "Год" - "Текущий год"
3. "Месяц" - "Текущий месяц"
4. "Владелец" - "PavelKrutoy"
5. "CVC/CVV" - рандомно, используем Faker
6. Кнопка "Подтвердить покупку" 
*Ожидаемый результат:* уведомление под полем "Владелец" "Поле заполненно некоректно, должны быть имя и фамилия через пробел".

**21. Все поля валидные, в поле "Владелец" перед именем дефис:**
1. "Номер карты" - "4444 4444 4444 4441"
2. "Год" - "Текущий год"
3. "Месяц" - "Текущий месяц"
4. "Владелец" - "-Pavel Krutoy"
5. "CVC/CVV" - рандомно, используем Faker
6. Кнопка "Подтвердить покупку" 
*Ожидаемый результат:* уведомление под полем "Владелец" "Поле заполненно некоректно, не корректно поставлен дефис".

**22. Все поля валидные, в поле "Владелец" после имени дефис:**
1. "Номер карты" - "4444 4444 4444 4441"
2. "Год" - "Текущий год"
3. "Месяц" - "Текущий месяц"
4. "Владелец" - "Pavel- Krutoy"
5. "CVC/CVV" - рандомно, используем Faker
6. Кнопка "Подтвердить покупку" 
*Ожидаемый результат:* уведомление под полем "Владелец" "Поле заполненно некоректно, не корректно поставлен дефис".

**23. Все поля валидные, в поле "Владелец" перед фамилией дефис:**
1. "Номер карты" - "4444 4444 4444 4441"
2. "Год" - "Текущий год"
3. "Месяц" - "Текущий месяц"
4. "Владелец" - "Pavel -Krutoy"
5. "CVC/CVV" - рандомно, используем Faker
6. Кнопка "Подтвердить покупку" 
*Ожидаемый результат:* уведомление под полем "Владелец" "Поле заполненно некоректно, не корректно поставлен дефис".

**24. Все поля валидные, в поле "Владелец" после фамилией дефис:**
1. "Номер карты" - "4444 4444 4444 4441"
2. "Год" - "Текущий год"
3. "Месяц" - "Текущий месяц"
4. "Владелец" - "Pavel Krutoy-"
5. "CVC/CVV" - рандомно, используем Faker
6. Кнопка "Подтвердить покупку" 
*Ожидаемый результат:* уведомление под полем "Владелец" "Поле заполненно некоректно, не корректно поставлен дефис".

**25. Все поля валидные, поле "Владелец" не заполненно:**
1. "Номер карты" - "4444 4444 4444 4441"
2. "Год" - "Текущий год"
3. "Месяц" - "Текущий месяц"
4. "Владелец" - " "
5. "CVC/CVV" - рандомно, используем Faker
6. Кнопка "Подтвердить покупку" 
*Ожидаемый результат:* уведомление под полем "Владелец" "Поле обязательно для заполнения".

**26. Все поля валидные, поле "CVC/CVV" заполненно не существующим значением:**
1. "Номер карты" - "4444 4444 4444 4441"
2. "Год" - "Текущий год"
3. "Месяц" - "Текущий месяц"
4. "Владелец" - рандомно, используем Faker
5. "CVC/CVV" - "01"
6. Кнопка "Подтвердить покупку" 
*Ожидаемый результат:* уведомление под полем "CVC/CVV" "Поле заполненно некоректно, введите три цифры".

**27. Все поля валидные, поле "CVC/CVV" заполненно нулями:**
1. "Номер карты" - "4444 4444 4444 4441"
2. "Год" - "Текущий год"
3. "Месяц" - "Текущий месяц"
4. "Владелец" - рандомно, используем Faker
5. "CVC/CVV" - "000"
6. Кнопка "Подтвердить покупку" 
*Ожидаемый результат:* уведомление под полем "CVC/CVV" "Поле заполненно некоректно, введите три цифры".

**28. Все поля валидные, поле "CVC/CVV" не заполненно:**
1. "Номер карты" - "4444 4444 4444 4441"
2. "Год" - "Текущий год"
3. "Месяц" - "Текущий месяц"
4. "Владелец" - рандомно, используем Faker
5. "CVC/CVV" - " "
6. Кнопка "Подтвердить покупку" 
*Ожидаемый результат:* уведомление под полем "CVC/CVV" "Поле обязательно для заполнения, введите три цифры".

## `2. Перечень используемых инструментов с обоснованием выбора`

1. `IntelliJ IDEA` - как среда разработки на языке JAVA для тестировщиков, с различными инструментами и возможностью их комбинирования. В этой среде будем разрабатывать автотесты
2. `JDK 11` - как язык для написания автотестов. Используем при написании автотестов.
3. `Gradle` - нужен как инструмент для сборки проекта, для управления подключенными зависимостями, а так же для генерации отчётов о тестировании при наладке автотестов. 
4. `JUnit 5` - тестовый фреймворк, как среда тестирования для приложений Java, содержит необходимые аннотации и assert’ы
5. `Selenide` - как наиболее простой и оптимальный инструмент для тестирования через графический интерфейс (GUI). Используем для доступа к автоматизированному управлению браузером
6. `Developer Tools` - инструмент встроенный в браузер, потребуется как минимум для поиска пути к элементам страниц сайта.
7. `Lombok` - основанный на аннотациях библиотеки Java, позволяет сократить шаблонный код. Сэкономит время при написании шаблонного кода.
8. `Page Object` - используем этот паттерн при написании автотестов. Для страниц будем создавать отдельный объект, методы которого инкапсулируют логику работы с отдельными элементами.
9. `Allure` - фреймворк для создания простых и понятных отчетов о тестировании, для наглядного отоображения прохождения тестов и ошибок. Необходим для фиксации результатов прохождения автотестов.
10. `Git`, `Github` - система контроля версий. Удобство, возможность одновременной параллельной разработки, есть интеграция с IntelliJ IDEA. Испльзуем для сохранения и контроля версий проекта по автотестированию.
11. `AppVeyor` - система CI. Есть интеграция с `Github`, простое подключение и настройка, бесплатное использование. Используем для автоматической сборки и выполнения кода тестирования. Для хранения истории запусков автотестов. (если успею)
12. `Docker` и `Docker Compose` — программное обеспечение для автоматизации развёртывания, управления приложениями и доступа к ним в среде виртуализации на уровне операционной системы; позволяет «упаковать» приложение со всем его окружением и зависимостями в контейнер, а также предоставляет среду по управлению контейнерами. Потребуются для развертывания контейнеров БД `MySQL` и `PostgeSQL`, а также `Node.js`.
13. `Apache Commons DbUtils` - библиотека, для работы с интерфейсом JDBC. Потребуется для работы с БД запущенной под `Docker`.

## `3. Перечень и описание возможных рисков при автоматизации`

- Недостаток информации по запуску БД и Node.js для их совместной работы - влечет увеличение временных затрат
- Низкая мощность ноутбука, нехватка памяти (требуется увеличени памяти до 16Гб). Дополнительные финасовые и временные затраты на покупку и сборку.
- Риск остаться без ноутбука после инстоляции планок памяти...
- Из-за отсутствия ТЗ тесты формируются в соответствии с экспертной оценкой и могут отличаться от реальных требований. Возможны корректировки.
- Возможное отсутствие data_test_id усложнит формирование автотестов.
- Тестовые данные не охватывают весь диапазон реальных данных.
- Большое колличество библиотек и фреймворков увеличивает риск возникновения технических проблем.

## `4. Интервальная оценка с учётом рисков`

- Написание плана тестирования - 8ч/12ч.
- Подготовка hardware, установка необходимого ПО, настройка проекта, запуск контейнеров и SUT - 16ч/32ч
- Написание тестов - 40ч/120ч.
- Написание отчетов о тестировании - 8ч/16ч.
- Написание отчетов об автоматизации - 4ч/8ч.

## `5. План сдачи работ`

- Написание плана тестирования - 2 дня
- Написание автотестов - 20 дней после согласования плана тестирования
- Написание отчетов о тестировании и автоматизации - 3 дня